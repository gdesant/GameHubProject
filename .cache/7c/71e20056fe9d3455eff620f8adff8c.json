{"id":"../../node_modules/@colyseus/schema/lib/utils.js","dependencies":[{"name":"C:\\Users\\S de Santi\\Desktop\\NewProject\\package.json","includedInParent":true,"mtime":1624620152425},{"name":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\@colyseus\\schema\\package.json","includedInParent":true,"mtime":1624300837947}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dumpChanges = void 0;\nfunction dumpChanges(schema) {\n    var changeTrees = [schema['$changes']];\n    var numChangeTrees = 1;\n    var dump = {};\n    var currentStructure = dump;\n    var _loop_1 = function (i) {\n        var changeTree = changeTrees[i];\n        changeTree.changes.forEach(function (change) {\n            var ref = changeTree.ref;\n            var fieldIndex = change.index;\n            var field = (ref['_definition'])\n                ? ref['_definition'].fieldsByIndex[fieldIndex]\n                : ref['$indexes'].get(fieldIndex);\n            currentStructure[field] = changeTree.getValue(fieldIndex);\n        });\n    };\n    for (var i = 0; i < numChangeTrees; i++) {\n        _loop_1(i);\n    }\n    return dump;\n}\nexports.dumpChanges = dumpChanges;\n"},"sourceMaps":{"js":{"version":3,"file":"utils.js","sourceRoot":"","sources":["../src/utils.ts"],"names":[],"mappings":";;;AAGA,SAAgB,WAAW,CAAC,MAAc;IACtC,IAAM,WAAW,GAAiB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IACvD,IAAI,cAAc,GAAG,CAAC,CAAC;IAEvB,IAAM,IAAI,GAAG,EAAE,CAAC;IAChB,IAAI,gBAAgB,GAAG,IAAI,CAAC;4BAEnB,CAAC;QACN,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QAElC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,MAAM;YAC9B,IAAM,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;YAC3B,IAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;YAEhC,IAAM,KAAK,GAAG,CAAE,GAAc,CAAC,aAAa,CAAC,CAAC;gBAC1C,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,UAAU,CAAC;gBAC9C,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAEtC,gBAAgB,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;;IAZP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,CAAC,EAAE;gBAA9B,CAAC;KAcT;IAED,OAAO,IAAI,CAAC;AAChB,CAAC;AAxBD,kCAwBC","sourcesContent":["import { Schema } from \"./\";\nimport { ChangeTree } from \"./changes/ChangeTree\";\n\nexport function dumpChanges(schema: Schema) {\n    const changeTrees: ChangeTree[] = [schema['$changes']];\n    let numChangeTrees = 1;\n\n    const dump = {};\n    let currentStructure = dump;\n\n    for (let i = 0; i < numChangeTrees; i++) {\n        const changeTree = changeTrees[i];\n\n        changeTree.changes.forEach((change) => {\n            const ref = changeTree.ref;\n            const fieldIndex = change.index;\n\n            const field = ((ref as Schema)['_definition'])\n                ? ref['_definition'].fieldsByIndex[fieldIndex]\n                : ref['$indexes'].get(fieldIndex);\n\n            currentStructure[field] = changeTree.getValue(fieldIndex);\n        });\n\n    }\n\n    return dump;\n}"]}},"error":null,"hash":"7862b6ae1cc6b3716257a23c071133ff","cacheData":{"env":{}}}