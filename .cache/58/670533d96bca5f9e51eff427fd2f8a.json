{"id":"x5bN","dependencies":[{"name":"C:\\Users\\S de Santi\\Desktop\\NewProject\\package.json","includedInParent":true,"mtime":1624620152425},{"name":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\colyseus.js\\package.json","includedInParent":true,"mtime":1624300838072},{"name":"@gamestdio/state-listener","loc":{"line":23,"column":31},"parent":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\colyseus.js\\lib\\serializer\\FossilDeltaSerializer.js","resolved":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\@gamestdio\\state-listener\\lib\\index.js"},{"name":"fossil-delta","loc":{"line":24,"column":39},"parent":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\colyseus.js\\lib\\serializer\\FossilDeltaSerializer.js","resolved":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\fossil-delta\\fossil-delta.js"},{"name":"../msgpack","loc":{"line":25,"column":35},"parent":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\colyseus.js\\lib\\serializer\\FossilDeltaSerializer.js","resolved":"C:\\Users\\S de Santi\\Desktop\\NewProject\\node_modules\\colyseus.js\\lib\\msgpack.js"}],"generated":{"js":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FossilDeltaSerializer = void 0;\n\nvar state_listener_1 = require(\"@gamestdio/state-listener\");\n\nvar fossilDelta = __importStar(require(\"fossil-delta\"));\n\nvar msgpack = __importStar(require(\"../msgpack\"));\n\nvar FossilDeltaSerializer =\n/** @class */\nfunction () {\n  function FossilDeltaSerializer() {\n    this.api = new state_listener_1.StateContainer({});\n  }\n\n  FossilDeltaSerializer.prototype.getState = function () {\n    return this.api.state;\n  };\n\n  FossilDeltaSerializer.prototype.setState = function (encodedState) {\n    this.previousState = new Uint8Array(encodedState);\n    this.api.set(msgpack.decode(this.previousState));\n  };\n\n  FossilDeltaSerializer.prototype.patch = function (binaryPatch) {\n    // apply patch\n    this.previousState = new Uint8Array(fossilDelta.apply(this.previousState, binaryPatch)); // trigger update callbacks\n\n    this.api.set(msgpack.decode(this.previousState));\n  };\n\n  FossilDeltaSerializer.prototype.teardown = function () {\n    this.api.removeAllListeners();\n  };\n\n  return FossilDeltaSerializer;\n}();\n\nexports.FossilDeltaSerializer = FossilDeltaSerializer;"},"sourceMaps":null,"error":null,"hash":"6a815fe4c857cf14ed52e060d2b57c2a","cacheData":{"env":{}}}